<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>
        </title>
        <link rel="stylesheet" href="jquery.mobile-1.1.1.min.css"
        />
        <link rel="stylesheet" href="my.css" />
        <style>
            /* App custom styles */
        </style>
        <script src="jquery-1.8.1.min.js">
        </script>
        <script src="jquery.mobile-1.1.1.min.js">
        </script>
        <script src="my.js">
        </script>
        <script type="text/javascript" charset="utf-8" src="cordova-2.0.0.js">
        </script>
        <link rel="stylesheet" type="text/css" href="jqm-datebox-1.1.0.css" /> 
        <script type="text/javascript" src="jqm-datebox-1.1.0.core.js"></script>
        <script type="text/javascript" src="jqm-datebox-1.1.0.mode.datebox.js"></script>
        <script type="text/javascript" src="jquery.mobile.datebox.i18n.en_US.utf8.js"></script>
    </head>
    
    <body>
        <!-- Home -->
        <div data-role="page" id="page1">
            <div data-theme="a" data-role="header" data-position="fixed">
                <h3>
                    LMN Calculator
                </h3>
            </div>
            <div data-role="content" style="padding: 15px">
                <div data-role="navbar" data-iconpos="top">
                    <ul>
                        <li>
                            <a href="#page3" data-theme="b" data-icon="">
                                LNM
                            </a>
                        </li>
                        <li>
                            <a href="#page5" data-theme="b" data-icon="">
                                Weeks/Days
                            </a>
                        </li>
                        <li>
                            <a href="#page4" data-theme="b" data-icon="">
                                EDD
                            </a>
                        </li>
                        <li>
                            <a href="#page6" data-theme="b" data-icon="">
                                Past Date
                            </a>
                        </li>
                    </ul>
                </div>
                <div style=" text-align:center">
                    <img style="width: 100px; height: 100px" src="images/preg_icon.png">
                </div>
                <div data-role="collapsible-set" data-theme="b" data-content-theme="a">
                    <div data-role="collapsible" data-collapsed="true">
                        <h3>
                            How to use this app
                        </h3>
                        <div>
                            <p>
                                Select from the selection bar above the appropriate date selection.
                            </p>
                            <p><u>LNM - Last Normal Mentruation</u></br></br>Submit the last normal mentruation date that is know for the 
                                pregnancy.
                            </p>
                            <p><u>Weeks and Days</u></br></br>Submit the weeks and days of the current pregnancy.
                            </p>
                            <p><u>EDD - Expected Date of Delivery</u></br></br>Submit the expected date of delivery that is known for the
                                pregnancy.
                            </p>
                            <p><u>Past Date</u></br></br>Submit a past date with its associate weeks/days for the pregnancy.
                            </p>

                        </div>
                    </div>
                    <div data-role="collapsible" data-collapsed="true">
                        <h3>
                            Disclaimer
                        </h3>
                        <div>
                            <p>
                                This application is not a substitute for medical advice. Any and all liability
                                arising directly or indirectly from the use of this application is hereby
                                disclaimed. The information herein is provided "as is" and without any
                                warranty expressed or implied. All direct, indirect, special, incidental,
                                consequential or punitive damages arising from any use of this application
                                or data contained herein is disclaimed and excluded.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <script type="text/javascript">
                $("#page1").on("pageshow", onPageShow);

                function onPageShow(e,data)
                {
                    clearValues();  
                }
            </script>
        </div>
        <!-- LNM -->
        <div data-role="page" id="page3">
            <div data-theme="a" data-role="header" data-position="fixed">
                <h3>
                    LMN Calculator
                </h3>
            </div>
            <div data-role="content" style="padding: 15px">
                <div data-role="navbar" data-iconpos="top">
                    <ul>
                        <li>
                            <a href="#page3" data-theme="b" data-icon="">
                                LNM
                            </a>
                        </li>
                        <li>
                            <a href="#page5" data-theme="b" data-icon="">
                                Weeks/Days
                            </a>
                        </li>
                        <li>
                            <a href="#page4" data-theme="b" data-icon="">
                                EDD
                            </a>
                        </li>
                        <li>
                            <a href="#page6" data-theme="b" data-icon="">
                                Past Date
                            </a>
                        </li>
                    </ul>
                </div>
                <script type="text/javascript">
                $("#page3").on("pageshow", onPageShow);

                function onPageShow(e,data)
                {
                    clearValues();  
                }
                </script>
                <form action="" method="POST">
                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup">
                            <label for="textinput6">
                                Last Normal Mentruation
                            </label>    
                            <input name="lnm" id="textinput6" type="date" data-role="datebox"
                               data-options='{"mode": "datebox"}' value="">
                        </fieldset>
                    </div>
                </form>
                <input type="button" data-theme="b" value="Calculate" onClick="location.href='#page7';">
            </div>
        </div>
        <!-- Weeks Days -->
        <div data-role="page" id="page5">
            <div data-theme="a" data-role="header" data-position="fixed">
                <h3>
                    LMN Calculator
                </h3>
            </div>
            <div data-role="content" style="padding: 15px">
                <div data-role="navbar" data-iconpos="top">
                    <ul>
                        <li>
                            <a href="#page3" data-theme="b" data-icon="">
                                LNM
                            </a>
                        </li>
                        <li>
                            <a href="#page5" data-theme="b" data-icon="">
                                Weeks/Days
                            </a>
                        </li>
                        <li>
                            <a href="#page4" data-theme="b" data-icon="">
                                EDD
                            </a>
                        </li>
                        <li>
                            <a href="#page6" data-theme="b" data-icon="">
                                Past Date
                            </a>
                        </li>
                    </ul>
                </div>
                <script type="text/javascript">
                $("#page5").on("pageshow", onPageShow);

                function onPageShow(e,data)
                {
                    clearValues();  
                }
                </script>
                <form action="" method="POST">
                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup">
                            <label for="textinput7">
                                Weeks
                            </label>
                            <input name="nowweeks" id="textinput7" placeholder="" value="0" type="range" min="0" max="39">
                        </fieldset>
                    </div>
                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup">
                            <label for="textinput15">
                                Days
                            </label>
                            <input name="nowdays" id="textinput15" placeholder="" value="0" type="range" min="0" max="6">
                        </fieldset>
                    </div>
                    <input type="button" data-theme="b" value="Calculate" onClick="location.href='#page7';">
                </form>
            </div>
        </div>
        <!-- EDD -->
        <div data-role="page" id="page4">
            <div data-theme="a" data-role="header" data-position="fixed">
                <h3>
                    LMN Calculator
                </h3>
            </div>
            <div data-role="content" style="padding: 15px">
                <div data-role="navbar" data-iconpos="top">
                    <ul>
                        <li>
                            <a href="#page3" data-theme="b" data-icon="">
                                LNM
                            </a>
                        </li>
                        <li>
                            <a href="#page5" data-theme="b" data-icon="">
                                Weeks/Days
                            </a>
                        </li>
                        <li>
                            <a href="#page4" data-theme="b" data-icon="">
                                EDD
                            </a>
                        </li>
                        <li>
                            <a href="#page6" data-theme="b" data-icon="">
                                Past Date
                            </a>
                        </li>
                    </ul>
                </div>
                <script type="text/javascript">
                $("#page4").on("pageshow", onPageShow);

                function onPageShow(e,data)
                {
                    clearValues();  
                }
                </script>
                <form action="">
                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup">
                            <label for="textinput8">
                                Expected Date of Delivery
                            </label>
                            <input name="edd" id="textinput8" type="date" data-role="datebox"
                               data-options='{"mode": "datebox"}' value="">
                        </fieldset>
                    </div>
                    <input type="button" data-theme="b" value="Calculate" onClick="location.href='#page7';">
                </form>
            </div>
        </div>
        <!-- Past Date -->
        <div data-role="page" id="page6">
            <div data-theme="a" data-role="header" data-position="fixed">
                <h3>
                    LMN Calculator
                </h3>
            </div>
            <div data-role="content" style="padding: 15px">
                <div data-role="navbar" data-iconpos="top">
                    <ul>
                        <li>
                            <a href="#page3" data-theme="b" data-icon="">
                                LNM
                            </a>
                        </li>
                        <li>
                            <a href="#page5" data-theme="b" data-icon="">
                                Weeks/Days
                            </a>
                        </li>
                        <li>
                            <a href="#page4" data-theme="b" data-icon="">
                                EDD
                            </a>
                        </li>
                        <li>
                            <a href="#page6" data-theme="b" data-icon="">
                                Past Date
                            </a>
                        </li>
                    </ul>
                </div>
                <script type="text/javascript">
                $("#page6").on("pageshow", onPageShow);

                function onPageShow(e,data)
                {
                    clearValues();  
                }
                </script>
                <form action="">
                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup">
                            <label for="textinput9">
                                Past Date
                            </label>
                            <input name="pastdate" id="textinput9" type="date" data-role="datebox"
                               data-options='{"mode": "datebox"}' value="">
                        </fieldset>
                    </div>
                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup">
                            <label for="textinput11">
                                Weeks
                            </label>
                            <input name="pastweeks" id="textinput11" placeholder="" value="0" type="range" min="0" max="39">
                        </fieldset>
                    </div>
                    <div data-role="fieldcontain">
                        <fieldset data-role="controlgroup">
                            <label for="textinput12">
                                Past Days
                            </label>
                            <input name="pastdays" id="textinput12" placeholder="" value="0" type="range" min="0" max="6">
                        </fieldset>
                    </div>
                    <input type="button" data-theme="b" value="Calculate" onClick="location.href='#page7';">
                </form>
            </div>
        </div>
        <!-- Result -->
        <div data-role="page" id="page7">
            
            <div data-theme="a" data-role="header" data-position="fixed">
                <h3>
                    LMN Calculator
                </h3>
            </div>
            <div data-role="content" style="padding: 15px">
                
                <h4>
                    Result
                </h4>
                <div>
                    <p id="result">
                    </p>
                </div>
                <a data-role="button" data-transition="fade" data-theme="b" href="#page1">
                    Return
                </a>
                <script type="text/javascript">
                $("#page7").on("pageshow", onPageShow);

                function onPageShow(e,data)
                {
                    var lnm = $('#textinput6').val();
                    var weeks = $('#textinput7').val();
                    var days = $('#textinput15').val();
                    var edd = $('#textinput8').val();
                    var pastdate = $('#textinput9').val();
                    var pastweeks = $('#textinput11').val();
                    var pastdays = $('#textinput12').val();

                    var result = "";

                    if(lnm != ""){
                        result += "in lnm";
                    }  else if (edd != ""){
                        result += "in edd";
                    } else if (pastdate != ""){
                        result += "in past";
                        if (pastweeks == "0" && pastdays == "0"){
                            result += "Weeks and days can not be 0. Please enter new values."
                        }
                    } else if (weeks != "0" || days != "0"){
                        result += " in weeks </br>";
                        var totalDays = (7 * parseInt(weeks, 10)) + parseInt(days, 10);
                        var today = new Date();
                        result += "LNM " + today.setDate(today.getDate()-totalDays) + " days in total " + totalDays;
                    }  else {
                        result += "You did not enter the values correctly. Please enter new values.";
                    }                      
                    result += "</br>LMN " + lnm + "</br>Weeks " + weeks + " </br>Days " + days + " </br>EDD " + edd + " </br>pastdate " + pastdate + " </br>pastweeks " + pastweeks + " </br>days " + days;
                    $('#result').html(result);

                    result = "";
                    clearValues();

                }
                </script>
            </div>
        </div>
        <script>
              //App custom javascript
              function clearValues(){
                $('#textinput6').val("");
                $('#textinput7').val(0);
                $('#textinput15').val(0);
                $('#textinput8').val("");
                $('#textinput9').val("");
                $('#textinput11').val(0);
                $('#textinput12').val(0); 
              }
        </script>
    </body>

</html>